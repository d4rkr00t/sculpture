{"id":"../commands-common/commands-parser.ts","dependencies":[{"name":"/Users/ssysoev/Development/opaline/packages/core/tsconfig.json","includedInParent":true,"mtime":1565775214928},{"name":"/Users/ssysoev/Development/opaline/packages/core/package.json","includedInParent":true,"mtime":1582591471850}],"generated":{"js":"\"use strict\";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,u)}s((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var i=n(require(\"path\")),a=n(require(\"fs\")),o=require(\"util\"),u=n(require(\"@babel/parser\")),s=r(require(\"@babel/traverse\")),l=n(require(\"doctrine\")),c=o.promisify(a.readFile);function p(n,r){return e(this,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,Promise.all(r.map(function(e){return f(n,e)}))];case 1:return[2,e.sent()]}})})}function f(n,r){return e(this,void 0,Promise,function(){var e,a,o,u;return t(this,function(t){switch(t.label){case 0:return e=r.split(\".\")[0],a=i.join(n.commandsDirPath,r),[4,c(a,\"utf8\")];case 1:return o=t.sent(),u=d({jsdocComment:m(o),cliName:n.cliName}),[2,{commandName:e,meta:u}]}})})}function m(e){var t,n=u.parse(e,{sourceType:\"module\",plugins:[\"typescript\"]});return s.default(n,{ExportDefaultDeclaration:function(e){t=\"/*\"+(e.node.leadingComments||[{value:\"\"}])[0].value+\"\\n*/\"}}),t}function d(e){var t=e.jsdocComment,n=e.cliName,r=t?l.parse(t,{unwrap:!0,sloppy:!0}):{description:\"\",tags:[]},i=r.description.split(\"\\n\\n\");return{title:i[0]||\"No description\",description:i.slice(1).join(\"\\n\\n\"),usage:(r.tags.find(function(e){return\"usage\"===e.title})||{description:\"\"}).description.replace(\"{cliName}\",n),examples:r.tags.filter(function(e){return\"example\"===e.title}).map(function(e){return e.description.replace(\"{cliName}\",n)}),shouldPassInputs:!!r.tags.find(function(e){return\"param\"===e.title&&\"$inputs\"===e.name}),options:r.tags.reduce(function(e,t){return\"param\"!==t.title||\"$inputs\"===t.name?e:(e[t.name]={title:t.description,type:t.type.name||t.type.expression.name,default:t.default},e)},{})}}exports.parseCommands=p;"},"sourceMaps":null,"error":null,"hash":"2f0bb307777eb5768abdeef4e19dfec4","cacheData":{"env":{}}}